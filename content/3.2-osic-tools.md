---
title: 3.2 OSIC-TOOLS
layout: default
parent: "Analog IC Design Flow"
has_toc: false
has_children: false
---
{: .no_toc }
# 3.2 What are OSIC tools?

{: .no_toc }

<details open markdown="block">
  <summary>
    Table of contents
  </summary>
  {: .text-delta }
- TOC
{:toc}
</details>

**Open-Source Integrated Circuit tools (OSIC)** are a collection of free and open-source software applications used for the design, simulation, layout, and verification of integrated circuits. They aim to provide an open, accessible alternative to expensive commercial Electronic Design Automation tools like Cadence and Virtuoso, traditionally used in the semiconductor industry.

> **Note:** In this course, we will follow the pre-compiled Docker image named  **IIC-OSIC-TOOLS** based method which allows for circuit design on a virtual machine on virtually any type of computing equipment.

## 3.2.1 Xschem

### 1. Schematic Design in the Design Cycle
In electronic product development, the first step is typically drawing the circuit diagram using an interactive computer program called a schematic editor. Once the schematic is completed, the circuit connectivity and device list (this is collectively called as the **netlist**) can be generated. This netlist is then used by a circuit simulator such as **NGSPICE** to perform simulations and verify the circuit functionality before moving to fabrication.

### 2. Overview of XSCHEM

**XSCHEM** is a powerful and user-friendly **schematic capture tool** designed primarily for **VLSI** (Very Large Scale Integration) circuit design. It allows designers to **interactively enter an electronic circuit** using a graphical interface and **generate netlists** for various simulation and design tools.

**Key Features of XSCHEM:**
- **Interactive schematic entry** 
- **Efficient handling of large and hierarchical designs** (up to many levels 10+ levels deep).
- **Support for multiple netlist formats**.
- **Optimized rendering and netlisting engines** to manage large-scale System-on-Chip (SoC) designs efficiently.

These features made xschem a suitable software in the open-source analog IC design path. Further its interactive yet very simple user interface for schematic designs, symbol allocation, parametric handling, and behavioral mode support-like features made it unique.

**Example: Large Hierarchical Design in XSCHEM**
Below is an image showing a VLSI System-on-Chip (SoC) design imported into XSCHEM. This demonstrates XSCHEM’s capability to handle very large designs with **deep hierarchies** and **complex structures**.
<div align="center">
  <img src="./images/xschem_hierchy_design.png" alt="Analog IC Design Flow Diagram" width="200"/>
  <p><em>Figure: Complex SOC design in xschem</em></p>
</div>

> **Note:** While initially intended for IC design, XSCHEM has recently expanded to support PCB workflows through the **tEDAx** format.

### 3. Install xschem
In this course, instead of installing xschem separately from github repository we will follow the Docker-based method. If you have done the installation correctly, you can open the Xschem software by simply typing ```xschem```in the terminal after you run the docker image.
<div align="center">
  <img src="./images/xschem_window.gif" alt="Analog IC Design Flow Diagram" width="200"/>
  <p><em>Figure: Xschem opening window with Skywater 130 and IHP PDKs</em></p>
</div>

### 4. Design a  schematic
Xschem provides different elements like symbols, wires, text, polygons, etc. for schematic designing. ths can be insert by just using **Shift + I**. The symbols used in the design process will depend on the PDK. 

### 5. Netlist Formats Supported by XSCHEM

XSCHEM currently supports three netlist formats:

| Netlist Format  | Purpose |
|-----------------|---------|
| **SPICE**       | For analog and mixed-signal circuit simulation. |
| **VHDL**        | For digital simulation and synthesis workflows. |
| **VERILOG**     | For digital simulation and hardware description. |

For future reference: 
- **How to Set Netlist Mode:**
  - Use the **Options menu** and select between modes.
  - Alternatively, press **Shift + V** to cycle through modes.

- **How to Generate Netlist:**
  - Press the **Netlist** button located at the top-right of the menu bar after the schematic is designed.
  - Or simply press the **n** key.

- The netlist file will be created in the defined simulation directory, ready for use with simulators or downstream tools.
  
add a pic og netlist of inverter

## 3.2.2 Ngspice
Ngspice is an open-source spice simulator for electric and electronic circuits. It is used for analog, digital, and mixed-signal simulations. Model parameters are provided by ngspice collections, by the semiconductor device manufacturers, or from semiconductor foundries. The user can add circuits as a netlist, and the output is one or more graphs of currents, voltages and other electrical quantities, or it can be saved in a raw data file.

Ngspice supports:

**Verilog-A Device Models**
- Integrates Verilog-A compact models like PSP and BSIM-CMG using OSDI/OpenVAF.
- No additional programming needed on the ngspice side.

**Mixed-Signal Co-Simulation**
- **Verilog Digital Blocks**: Compiled with Verilator, integrated via `d_cosim`.
- **C-coded Digital Blocks**: Compiled with GCC, interfaced via `d_process` using pipes.

**User-Defined Models**
- Custom devices can be created using behavioral sources (B, E, G, R, L, C).
- XSPICE allows defining new analog, mixed, or digital models.

**Programming Ngspice**
- Internal scripting language supports control flows and mathematical operations.
- External control via input/output FIFOs, shared libraries, and tclspice.

**Circuit Optimization**
- Optimization methods include scripting, Tclspice, and differential evolution algorithms (e.g., ASCO optimizer).

**Statistical Circuit Analysis**
- Supports Monte Carlo simulation with random functions.
- Noise sources like thermal, 1/f, and RTS noise available for transient simulations.

**RF Analysis**
- Transmission line modeling, S-parameter extraction, and FFT analysis.
- Periodic steady-state (PSS) simulation under development.

**TCAD Integration**
- Device simulations from TCAD tools can be integrated into ngspice circuit simulations.


### 1. Install NGSPICE

Included in the IIC-OSIC-TOOLS Docker image.

### 2. Running a Basic Simulation

First we have to create a netlist describing this circuit using Xschem. The netlist is the input to ngspice, telling it about the circuit to be simulated. With some simulation commands, this input cares for reading and parsing the netlist, starting the simulation, and plotting the output. Below is the basic simulation for a CMOS inverter.

pic

Here is another basic example for Ngspice designs. These figures summarize the design process of a passive low-pass filter on Ngspice.

pic and netlsit and spice code



### 3. Types of Analysis

>**DC Analysis (Operating Point and DC Sweep)** :Operating Points Calculates steady-state node voltages and branch currents and DC Sweep, Varies a DC source over a range to observe the circuit response.

>**AC Small-Signal Analysis** :Evaluates the frequency response of the circuit using small AC input signals.

>**Transient Analysis** :Simulates time-domain behavior of the circuit when inputs change with time.

>**Pole-Zero Analysis** :Finds the poles and zeros of a circuit’s transfer function for frequency and stability insights.

>**Small-Signal Distortion Analysis** :Measures how much harmonic distortion is introduced by the circuit for small inputs.

>**Sensitivity Analysis** :Determines how sensitive the output is to small changes in component values.

>**Noise Analysis** :Estimates total output noise contributed by components (thermal, 1/f, RTS noise).


## 3.2.3 netgen

## 3.2.4 OpenEMS

## 3.2.5 QUCS-S

## 3.2.6 KLayout
